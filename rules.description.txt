

  Emulated_Rules
    √ Should not allow writes to a random collection (244ms)
    √ Shouls not allow reads from a random collection (273ms)
    Users
      Create
        √ Unautherized users should not be able to create new Users (147ms)
        √ Users should not be able to create new Users (128ms)
        √ Admin Users should not be able to create new Users (126ms)
        √ Super Admin Users should not be able to create new Users (146ms)
      Read
        √ Unautherized users should not be able to read data from users (172ms)
        √ Users should be able to read their own data (221ms)
        √ Users should not be able to read data on other users (141ms)
        √ Admin users should be able to read data on other users (119ms)
        √ Super Admin users should be able to read data on other users (131ms)
      Update
        √ Unautherized Users should not be able to update data on users (144ms)
        √ Users should not be able to update data on other users (197ms)
        √ Users should not be able to update field: id (151ms)
        √ Users should not be able to update field: claims (136ms)
        √ Users should not be able to update field: email (218ms)
        √ Users should be able to update field: name (139ms)
        √ Users should be able to update field: FCM_tokens (130ms)
        √ Users should be able to update data on the relation to a Household (139ms)
        √ Users should not be able to update their role in relation to a household (162ms)
        √ Users should not be able to update the accecpted property in relation to a household to false (165ms)
        √ Users should be able to change the accecpted property in relation to a household to true (166ms)
        √ Admin users should be able to update data on other users (175ms)
      Delete
        √ Should not allow unautherized Users to delete Users (157ms)
        √ Should not allow Users to delete Users (138ms)
    Base Stations
      Create
        √  Unautherized users should not be able to create Base Station (128ms)
        √ Users should not be able to create Base Station (117ms)
        √ Admin Users should not be able to create Base Station (117ms)
        √ Super Admin Users should not be able to create Base Station (127ms)
      Read
        √ Should not allow unautherized Users to read from Base Stations (321ms)
        √ Should not allow Users to read from Base Stations claimed by other Household than the one they are resident in (207ms)
        √ Should allow Users to read from unclaimed Base Stations (124ms)
        √ Should allow Users to read from Base Stations related to their resident Household (154ms)
        √ Admin Users should be able to read data (590ms)
        √ Super Admin Users should not be able to read data (152ms)
      Update
        √ Should not allow unautherized Users to update data (117ms)
        √ Should not allow Users to update data on non-related Base Stations (159ms)
        √ Should not allow related Users to update field: id (158ms)
        √ Should not allow related Users to update field: pin (145ms)
        √ Should not allow related Users to update field: websocket (256ms)
        √ Should not allow related Users to update field: household (144ms)
        √ Should not allow Users to update field "id" of unclaimed Base Stations (141ms)
        √ Should not allow Users to update field "pin" of unclaimed Base Stations (135ms)
        √ Should not allow Users to update field "websocket" of unclaimed Base Stations (135ms)
        √ Should not allow Users to update field "households" of unclaimed Base Stations if field is no map only containing id:string (132ms)
        √ Should allow Users to update field "households" of unclaimed Base Stations (150ms)
        √ Should allow Admins to update field "websocket" (133ms)
      Delete
        √ Should not allow unautherized Users to delete Base Stations (106ms)
        √ Should not allow Users to delete Base Stations (136ms)
    Households
      Create
        √ Should not allow unautherized Users to be able to create households (115ms)
        √ Should not allow Users to create Households without an users field (115ms)
        √ Should not allow Users to create Households without a users field including ID ref to themselves (105ms)
        √ Should not allow Users to create Households with a users field including multiple ID refs to other users (137ms)
        √ Should not allow Users to create Households without an base_stations field (116ms)
        √ Should allow Users to create Households with fields: "base_stations" and "users" including ID ref to themselves (116ms)
        √ Should allow Admin Users to create Household for other Users (118ms)
      Read
        √ Should not allow Unautherized Users to read data (104ms)
        √ Should not allow Users not resident of a Household to read data (122ms)
        √ Should allow resident Users to read data (125ms)
        √ Should allow Admin Users to read data from all Households (122ms)
      Update
        √ Should not allow unautherized Users to update data (142ms)
        √ Should not allow resident Users to update field: users (226ms)
        √ Should not allow resident Users to update field: sensors (145ms)
        √ Should not allow resident users to update field: base_stations (164ms)
        √ Should not allow Household Admins to update field: base_stations (173ms)
        √ Should allow Household Admins to update field: users (168ms)
        √ Should allow Household Admins to update field: sensors (167ms)
      Delete
        √ Unautherized users should not be able the delete households (218ms)
        √ Users should not be able the delete households (120ms)
        √ Users should not be able the delete households (117ms)
    Sensors
      Create
        √ Should not allow unautherized Users to create Sensors (117ms)
        √ Should not allow Users to create Sensors (116ms)
        √ Should not allow admin Users to create Sensors (116ms)
        √ Should not allow super admin Users to create Sensors (127ms)
      Read
        √ Unautherized users should not be able to read data from Sensors (134ms)
        √ Users should not be able to read data from non-related Sensors (120ms)
        √ Users should be able to read data from related Sensors (131ms)
        √ Admin users should be able to read data from Sensors (125ms)
      Update
        √ Unautherized users should not be able to update data on Sensors (135ms)
        √ Users should not be able to update data on non-related Sensors (128ms)
        √ Users should not be able to update field: id (146ms)
        √ Users should not be able to update field: users (131ms)
        √ Users should be able to update data on related Sensors (134ms)
        √ Admin users should be able to update data on Sensors (132ms)
      Delete
        √ Should not allow unautherized Users to delete Sensors (126ms)
        √ Should not allow Users to delete Sensors (137ms)
    Sensors_Users
      Create
        √ Should not allow unautherized Users to create Sensors-Users collections (125ms)
        √ Should not allow Users to create Sensors-Users collections (126ms)
        √ Should not allow admin Users to create Sensors-Users collections (136ms)
        √ Should not allow super admin Users to create Sensors-Users collections (115ms)
      Read
        √ Should not allow unautherized Users to read data from Sensors_Users (123ms)
        √ Should allow the User of the relation to read data from Sensors_Users (126ms)
      Update
        √ Should not allow unautherized Users to update data on Sensors_Users (124ms)
        √ Should not allow Users to update field: users (138ms)
        √ Should not allow Users to update field: sensors (135ms)
        √ Should not allow not related Users to update field: pivot (145ms)
        √ Should allow Users to update field: pivot (123ms)
      Delete
        √ Should not allow unautherized Users to delete Sensors_Users (116ms)
        √ Should not allow Users to delete Sensors_Users (106ms)


  99 passing (15s)

